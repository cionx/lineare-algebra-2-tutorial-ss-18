\usepackage{fontspec}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{tikz-cd}
\usepackage{enumitem}
\usepackage{csquotes}
\usepackage{hyperref}

% colours for hyperref
\hypersetup{
    colorlinks,
    linkcolor={green!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}


% prevents breaking inline math around binary or relationship symbols
\binoppenalty=\maxdimen
\relpenalty=\maxdimen

\setlist[enumerate, 1]{leftmargin=*}
\setlist[enumerate, 2]{leftmargin=*}
\setlist[itemize, 1]{leftmargin=*}
\setlist[itemize, 2]{leftmargin=*, label={\textopenbullet}}
\setlist[itemize, 3]{leftmargin=*}

\newcounter{everything}

\newtheorem{lemma}[everything]{Lemma}
\newtheorem{corollary}[everything]{Korollar}
\newtheorem{proposition}[everything]{Proposition}
\newtheorem{theorem}[everything]{Satz}

\theoremstyle{definition}
\newtheorem*{claim*}{Behauptung}
\newtheorem{example}[everything]{Beispiel}
\newtheorem{idea}[everything]{Idee}
\newtheorem{remark}[everything]{Bemerkung}
\newtheorem*{theorem*}{Satz}

\renewcommand{\thesection}{Aufgabe H\arabic{section}}
\renewcommand{\thesubsection}{(\roman{subsection})}

\newcommand{\defined}{\coloneqq}
\newcommand{\definedas}{\eqqcolon}
\newcommand{\divides}{\mathrel{|}}
\newcommand{\notdivides}{\mathrel{\nmid}}

\NewDocumentCommand{\suchthat}{s}{
  \IfBooleanTF{#1}
    {\,\middle|\,}
    {\,|\,}       
}
\NewDocumentCommand{\restrict}{smmO{}}{
  \IfBooleanTF{#1}
    {\left. {#2} \right|_{#3}^{#4}}
    {{#2}|_{#3}^{#4}}
}

\newcommand{\Natural}{\mathbb{N}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Rational}{\mathbb{Q}}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Complex}{\mathbb{C}}
\newcommand{\Finite}{\mathbb{F}}
\newcommand{\Korper}{\mathbb{K}}

\DeclarePairedDelimiterX{\cyclic}[1]{[}{]}{#1}
\newcommand{\im}{\operatorname{im}}
\newcommand{\Lin}{\operatorname{Lin}}
\newcommand{\unitgroup}[1]{#1^\times}

\newcommand{\GL}[2]{\operatorname{GL}_{#1}(#2)}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\diagonalgroup}[2]{\operatorname{D}_{#1}(#2)}
\newcommand{\eigenspace}[2]{\operatorname{Eig}(#1, #2)}
\newcommand{\hauptspace}[2]{\operatorname{Haupt}(#1, #2)}
\newcommand{\matrices}[2]{#2^{#1, #1}}
\newcommand{\mnatrices}[3]{#3^{#1, #2}}

\DeclarePairedDelimiterX{\abs}[1]{\lvert}{\rvert}{#1}
\DeclarePairedDelimiterX{\card}[1]{\lvert}{\rvert}{#1}
\DeclarePairedDelimiterX{\norm}[1]{\|}{\|}{#1}

\newcommand{\id}{\operatorname{id}}
\newcommand{\rank}{\operatorname{rg}}
\newcommand{\ringchar}{\operatorname{char}}
\newcommand{\sign}{\operatorname{sgn}}
\DeclareMathOperator{\tr}{Spur}

\newcommand{\repmatrixhomo}[3]{c_{#2, #3}(#1)}
\newcommand{\repmatrixendo}[2]{c_{#2, #2}(#1)}
\newcommand{\repmatrixbilone}[2]{c_{#2}(#1)}

\newcommand{\charpol}[1]{\chi_{#1}}
\newcommand{\minpol}[1]{\mu_{#1}}

\newcommand{\columnvector}[1]{ \begin{pmatrix} #1 \end{pmatrix} }
\newcommand{\columnrvector}[1]{ \begin{pmatrix*}[r] #1 \end{pmatrix*} }

\newcommand{\induced}[1]{\overline{#1}}
